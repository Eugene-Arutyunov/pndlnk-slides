# Компонент ДКЦП

ДКЦП (Дворец культуры ценностного предложения) — это визуальный компонент для отображения модели ценностного предложения в виде архитектурной структуры, напоминающей фасад здания с треугольной крышей.

## Структура компонента

Компонент состоит из 9 основных блоков, организованных в виде здания:

### Крыша (треугольник)
**8. Ценность** — символический смысл процесса обмена, венчающий всю модель.

### Основной фасад (верхний ряд — 5 колонн)
1. **Клиентский сегмент** — группа людей или компаний, объединенных по наблюдаемым признакам
2. **Ключевой мотивационный конфликт** — противоречие между драйвером и барьером у клиента
3. **Артефакт** — набор товаров, услуг и информации для разрешения конфликта
4. **Атрибуты артефакта** — свойства артефакта для сравнения и разрешения конфликта
9. **Аргументы** — сообщения о взаимосвязи блоков ценностного предложения

### Основание фасада (нижний ряд — 2 блока)
5. **Вклад клиента** — форма и размер вклада клиента в обмен
6. **Условия обмена** — как разворачивается процесс обмена во времени

### Фундамент (1 блок)
7. **Атрибуты компании** — свойства продавца, влияющие на восприятие продукта

## Использование

Компонент находится в файле `src/includes/dkcp.html` и подключается через Nunjucks include:

```html
{% include 'dkcp.html', 
   values: ['Ценность'], 
   segment: ['Клиентский сегмент'],
   conflict: ['Ключевой мотивационный конфликт'], 
   artifact: ['Артефакт'], 
   artifactAttrs: ['Атрибуты артефакта'],
   exchangeConditions: ['Условия обмена'],
   priceConditions: ['Вклад клиента'], 
   companyAttrs: ['Атрибуты компании'],
   arguments: ['Аргументы'],
   draft: true %}
```

Для драфт-режима добавьте параметр `draft: true`. В этом режиме блоки отображаются с контурами вместо заливки.

## Параметры

Все параметры опциональны и принимают массивы строк. Если параметр не передан, блок остается пустым. Каждая строка в массиве оборачивается в отдельный тег `<p>`.

- `values` — содержимое крыши (Ценность)
- `segment` — клиентский сегмент
- `conflict` — ключевой мотивационный конфликт  
- `artifact` — артефакт
- `artifactAttrs` — атрибуты артефакта
- `arguments` — аргументы
- `exchangeConditions` — условия обмена
- `priceConditions` — вклад клиента
- `companyAttrs` — атрибуты компании
- `draft` — булево значение для включения драфт-режима (по умолчанию `false`)

## Пример с содержимым

```html
{% include 'dkcp.html', 
   values: ['Экологичность'], 
   segment: ['Молодые родители в крупных городах'],
   conflict: ['Хотят здоровую еду для детей, но нет времени готовить'], 
   artifact: ['Готовая органическая детская еда'], 
   artifactAttrs: ['Без консервантов', 'Местные продукты', 'Возрастная маркировка'],
   arguments: ['Здоровое питание для занятых родителей без компромиссов'],
   priceConditions: ['500₽ за порцию', 'Скидка при подписке'],
   exchangeConditions: ['Доставка в день заказа', 'Возврат в течение недели'], 
   companyAttrs: ['10 лет на рынке', 'Сертификат качества'] %}
```

## Драфт-режим

В драфт-режиме компонент отображается с контурами блоков вместо заливки. Это полезно для черновых версий или когда нужно показать структуру без акцента на содержимое.

```html
{% include 'dkcp.html', 
   values: ['Экологичность'], 
   segment: ['Молодые родители'],
   conflict: ['Хотят здоровую еду, но нет времени готовить'],
   draft: true %}
```

## Визуальная структура

Компонент имеет архитектурный вид:

- **Треугольная крыша** создается с помощью CSS `clip-path` и содержит блок "Ценность"
- **Основной фасад** состоит из двух рядов:
  - Верхний ряд: 5 равных колонн с основными блоками модели
  - Нижний ряд: 2 блока, занимающих всю ширину фасада
- **Фундамент**: один блок на всю ширину для атрибутов компании

## CSS-классы

Основные CSS-классы компонента:

- `.dkcp-component` — основной контейнер
- `.dkcp-top` — треугольная крыша
- `.dkcp-facade` — основной фасад здания
- `.dkcp-bottom` — фундамент
- `.dkcp-block` — отдельный блок
- `.dkcp-digit` — номер блока
- `.dkcp-title` — заголовок блока
- `.dkcp-definition` — содержимое блока
- `.dkcp-hint` — дополнительная подпись (пока не используется)

## Типографика

- **Цифры блоков** — шрифт Gothic, размер 0.6em, полупрозрачные
- **Заголовки блоков** — шрифт Mono, размер 1.2em, жирность 600
- **Содержимое блоков** — шрифт Gothic
- **Подсказки** — шрифт Hand (резерв для будущего использования)

## Адаптивность

Компонент использует CSS Custom Properties для управления отступами и адаптируется к ширине контейнера. Блоки автоматически масштабируются в зависимости от доступного пространства.

## Технические ограничения

### Треугольная крыша и границы в драфт-режиме

Треугольная форма крыши создается с помощью `clip-path: polygon()`, что создает технические ограничения для добавления границ:

**Неподходящие варианты:**
- **SVG треугольник** — сложно сделать резиновым, а резиновость важна
- **CSS border-трюк** — не поддерживает проценты, что критично для резиновости

**Текущее решение:** Жёсткая тень через `filter: drop-shadow(0 0 0 1px color)` создает контур треугольника, следуя его форме.
